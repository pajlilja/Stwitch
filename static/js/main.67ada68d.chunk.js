(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(t,e,a){t.exports=a(205)},117:function(t,e,a){},118:function(t,e,a){},121:function(t,e,a){},177:function(t,e,a){},203:function(t,e,a){},205:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(20),i=a.n(s),c=a(209),l=(a(117),a(21)),o=a(22),h=a(25),m=a(23),p=a(26),u=a(214),d=a(208),f=a(215),y=(a(118),a(83)),v=a.n(y),b=a(102),w=a(9),g=(a(121),6),x="#009933",E=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(h.a)(this,Object(m.a)(e).call(this,t))).state={selectedGame:""},a}return Object(p.a)(e,t),Object(o.a)(e,[{key:"componentDidUpdate",value:function(){var t=w.d(this.refs.anchor).append("g"),e=this.props,a=e.inputGameData,n=e.width,r=e.height,s=e.transform,i=(e.margin,e.maxSteamPlayers),c=(e.minSteamPlayers,e.maxTwitchViewers),l=e.globalStateHandler;t.attr("transform",s);var o=w.c().exponent(.5).domain([0,i]).range([0,n-200]).nice(10),h=w.a(o),m=w.c().exponent(.3).domain([0,c]).range([r,0]),p=w.b(m);console.log(Object.values(a)),t.selectAll("circle").data(Object.values(a)).enter().append("g").attr("class",function(t,e){return console.log(t),"circle-g #"+e}).append("circle").attr("r",g).attr("fill","#009933").attr("id",function(t,e){return e}).attr("cx",function(t){return console.log(t.steamPlayerCount),Math.pow(t.steamPlayerCount/i,.5)*(n-200)}).attr("cy",function(t){return r-Math.pow(t.twitchViewers/c,.3)*r+40}).on("mouseover",function(t,e){var n=w.d(this).attr("id"),r=Object.values(a)[n];w.d(this).attr("fill","orange").attr("r",1.5*g);var s=6*r.steamName.length+60;w.d(this.parentNode.parentNode).append("rect").attr("class","text-box").attr("width",s).attr("height",50).attr("fill","white").attr("fill-opacity",.8).attr("y",w.d(this).attr("cy")-60).attr("x",parseInt(w.d(this).attr("cx"))+40),w.d(this.parentNode.parentNode).append("text").text(r.steamName).attr("class","graph-text").attr("z-index",-100).attr("y",w.d(this).attr("cy")-45).attr("x",parseInt(w.d(this).attr("cx"))+40),w.d(this.parentNode.parentNode).append("text").text("Steam Players: "+r.steamPlayerCount).attr("class","graph-text").attr("z-index",-100).attr("y",w.d(this).attr("cy")-30).attr("x",parseInt(w.d(this).attr("cx"))+40),w.d(this.parentNode.parentNode).append("text").text("Twitch Viewers: "+r.twitchViewers).attr("class","graph-text").attr("z-index",-100).attr("y",w.d(this).attr("cy")-15).attr("x",parseInt(w.d(this).attr("cx"))+40)}).on("mouseout",function(t,e){w.d(this).attr("fill",x).attr("r",g),w.d(this.parentNode.parentNode).selectAll(".text-box").remove(),w.d(this.parentNode.parentNode).selectAll(".graph-text").remove()}).on("click",function(t,e){return t,!0,console.log(t),void l(t)}),t.append("g").attr("class","xaxis").attr("transform","translate(20,"+(r+40)+")").call(h).append("text").attr("class","label").attr("x",n).attr("y",-6).style("text-anchor","end"),t.append("g").attr("class","yaxis").attr("transform","translate(20,40)").call(p).append("text").attr("class","label").attr("y",6).attr("dy",".71em").style("text-anchor","end")}},{key:"render",value:function(){return r.a.createElement("g",{ref:"anchor"})}}]),e}(n.Component),j=a(84),O=a.n(j);O.a.initializeApp({apiKey:"AIzaSyBfDVC6zoIBSzTncZSVBOyvEH-oPEIG1Nw",authDomain:"stwitch-8a483.firebaseapp.com",databaseURL:"https://stwitch-8a483.firebaseio.com",projectId:"stwitch-8a483",storageBucket:"stwitch-8a483.appspot.com",messagingSenderId:"11837305116"});var C=O.a;function N(){return C.database().ref("timeStamps").once("value")}var S=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={gameData:null},a}return Object(p.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=Object(b.a)(v.a.mark(function t(){var e=this;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N().then(function(t){var a=t.val(),n=Object.keys(a)[Object.keys(a).length-1],r=0,s=99999999999999,i=0;for(var c in a[n])console.log(a[n][c]),parseInt(a[n][c].steamPlayerCount)>r&&(r=parseInt(a[n][c].steamPlayerCount)),parseInt(a[n][c].steamPlayerCount)<s&&(s=parseInt(a[n][c].steamPlayerCount)),parseInt(a[n][c].twitchViewers)>i&&(i=parseInt(a[n][c].twitchViewers));console.log(r),console.log(i),e.setState({gameData:a[n],key:n,minPlayerCount:s,maxPlayerCount:r,maxViewerCount:i}),console.log(r)});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t={top:20,right:20,bottom:30,left:40};return r.a.createElement("div",{className:"startpageContainer"},r.a.createElement("svg",{width:"1300",height:"800"},r.a.createElement(E,{width:1300,height:600,margin:t,minSteamPlayers:this.state.minPlayerCount,maxSteamPlayers:this.state.maxPlayerCount,maxTwitchViewers:this.state.maxViewerCount,inputGameData:this.state.gameData,transform:"translate("+t.left+","+t.top+")",gamedata:this.state.gameData,globalStateHandler:this.props.globalStateHandler})))}}]),e}(n.Component),k=a(211),I=a(213),P=a(212),V=a(210),D=a(108),A=a(106),z=(a(177),function(t){function e(){return Object(l.a)(this,e),Object(h.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"topbarContainer"},r.a.createElement(k.a,{bg:"light",expand:"lg"},r.a.createElement(k.a.Brand,{href:"#home"},"Stwitch"),r.a.createElement(k.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(k.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(I.a,{className:"mr-auto"},r.a.createElement(I.a.Link,{href:"#home"},"Graph this shit"),r.a.createElement(I.a.Link,{href:"#link"},"About Us"),r.a.createElement(P.a,{title:"Dropdown",id:"basic-nav-dropdown"},r.a.createElement(P.a.Item,{href:"#action/3.1"},"Action"),r.a.createElement(P.a.Item,{href:"#action/3.2"},"Another action"),r.a.createElement(P.a.Item,{href:"#action/3.3"},"Something"),r.a.createElement(P.a.Divider,null),r.a.createElement(P.a.Item,{href:"#action/3.4"},"Separated link"))),r.a.createElement(V.a,{inline:!0},r.a.createElement(D.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),r.a.createElement(A.a,{variant:"outline-success"},"Search")))))}}]),e}(n.Component)),B=(a(203),function(t){function e(){return Object(l.a)(this,e),Object(h.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"meta-data"},r.a.createElement("h2",null,this.props.title),r.a.createElement("h4",null,"Steam Players: ",this.props.players),r.a.createElement("h4",null,"Twitch Viewers: ",this.props.viewers),r.a.createElement("h4",null,"Twitch Channels: ",this.props.channels)))}}]),e}(n.Component)),H=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={title:"",players:"",viewers:"",channels:""},a.globalStateHandler=function(t){a.setState({title:t.steamName,players:t.steamPlayerCount,viewers:t.twitchViewers,channels:t.twitchChannels})},a}return Object(p.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"main-container"},r.a.createElement("header",{className:"app-header"},r.a.createElement(z,null)),r.a.createElement("div",{className:"visualization-container"},r.a.createElement(u.a,null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(){return r.a.createElement(S,{globalStateHandler:t.globalStateHandler})}})),r.a.createElement(B,{title:this.state.title,players:this.state.players,viewers:this.state.viewers,channels:this.state.channels})))}}]),e}(n.Component),T=Object(f.a)(H);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=r.a.createElement(c.a,{basename:"/Stwitch"},r.a.createElement(T,null));i.a.render(G,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[112,1,2]]]);
//# sourceMappingURL=main.67ada68d.chunk.js.map